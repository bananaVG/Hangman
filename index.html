<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangman Game</title>
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABz51ERAAAAAXNSR0IArs4c6QAAAyFJREFUWAdj/P//PwMhAwMDw4jC/0oG/v7+ZgYGBgYGJkYGBoY/f/5kYGBgYGBkYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBo+e+e++b+f58vO++z/V4Q==">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Full viewport height */
            margin: 0;
            padding: 20px; /* Padding around the game container */
            box-sizing: border-box; /* Include padding in element's total width and height */
        }
        .game-container {
            background-color: #ffffff; /* White background for the game box */
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); /* Soft shadow */
            padding: 2.5rem; /* Increased padding */
            text-align: center;
            max-width: 500px; /* Max width for better readability on large screens */
            width: 100%; /* Full width on smaller screens */
            display: flex;
            flex-direction: column;
            gap: 1.5rem; /* Space between sections */
        }
        .hangman-stage {
            font-family: 'monospace', 'Courier New', Courier; /* Monospace for ASCII art */
            white-space: pre; /* Preserve whitespace for ASCII art */
            font-size: 0.9rem; /* Slightly smaller font for ASCII art */
            line-height: 1; /* Tight line height for ASCII art */
            color: #4a5568; /* Dark gray for the ASCII art */
            background-color: #e2e8f0; /* Light background for the stage */
            padding: 1rem;
            border-radius: 0.75rem;
            min-height: 150px; /* Ensure consistent height */
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .word-display {
            font-size: 2.5rem; /* Larger font for the word */
            font-weight: bold;
            letter-spacing: 0.5rem; /* Space out letters */
            color: #2d3748; /* Darker gray for the word */
            margin-bottom: 1.5rem;
        }
        .guessed-letters {
            font-size: 1rem;
            color: #6b7280;
            min-height: 20px;
            margin-top: -1rem; /* Adjust spacing */
        }
        .timer-info {
            font-size: 1.1rem;
            font-weight: bold;
            color: #6b7280; /* Neutral color for info */
            margin-bottom: 1rem;
        }
        .input-group, .select-group {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            margin-top: 1.5rem;
        }
        .guess-input, .topic-select {
            padding: 0.75rem 1rem;
            border: 2px solid #cbd5e0;
            border-radius: 0.75rem;
            font-size: 1.1rem;
            text-align: center;
            outline: none;
            transition: border-color 0.2s ease-in-out;
            background-color: #fff;
            color: #4a5568;
        }
        .guess-input:focus, .topic-select:focus {
            border-color: #4299e1;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-primary {
            background-color: #4299e1;
            color: white;
            border: none;
        }
        .btn-primary:hover:not(:disabled) {
            background-color: #3182ce;
            transform: translateY(-1px);
        }
        .btn-primary:active:not(:disabled) {
            background-color: #2b6cb0;
            transform: translateY(0);
        }
        .btn-secondary {
            background-color: #a0aec0;
            color: white;
            border: none;
        }
        .btn-secondary:hover:not(:disabled) {
            background-color: #718096;
            transform: translateY(-1px);
        }
        .btn-secondary:active:not(:disabled) {
            background-color: #5b6e82;
            transform: translateY(0);
        }
        .btn-hint {
            background-color: #f6ad55;
            color: white;
            border: none;
        }
        .btn-hint:hover:not(:disabled) {
            background-color: #ed8936;
            transform: translateY(-1px);
        }
        .btn-hint:active:not(:disabled) {
            background-color: #dd6b20;
            transform: translateY(0);
        }
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            box-shadow: none;
        }
        .button-row {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="text-4xl font-extrabold text-gray-800 mb-4">Hangman</h1>

        <div id="setup-section" class="flex flex-col gap-4">
            <div class="select-group">
                <select id="topic-select" class="topic-select">
                    <option value="" disabled selected>Choose a topic to begin...</option>
                    <option value="animals">Animals</option>
                    <option value="foods">Foods</option>
                    <option value="countries">Countries</option>
                </select>
            </div>
        </div>

        <div id="game-section" class="hidden">
            <pre id="hangman-stage" class="hangman-stage">
 +---+
 |   |
     |
     |
     |
     |
=========
            </pre>

            <div id="timer-info" class="timer-info">Time Left: 60s</div>

            <div id="word-display" class="word-display">_ _ _ _ _</div>

            <div id="guessed-letters" class="guessed-letters">Guessed: </div>

            <p id="message" class="message text-red-500 font-semibold"></p>

            <div class="input-group">
                <input type="text" id="guess-input" maxlength="1" class="guess-input" placeholder="A-Z">
                <button id="guess-button" class="btn btn-primary">Guess</button>
            </div>

            <div class="button-row">
                <button id="hint-button" class="btn btn-hint">Get Hint ( -5s)</button>
                <button id="new-game-button" class="btn btn-secondary">New Game</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Game constants
            const stages = [
`
 +---+
 |   |
     |
     |
     |
     |
=========
`,
`
 +---+
 |   |
 O   |
     |
     |
     |
=========
`,
`
 +---+
 |   |
 O   |
 |   |
     |
     |
=========
`,
`
 +---+
 |   |
 O   |
/|   |
     |
     |
=========
`,
`
 +---+
 |   |
 O   |
/|\\  |
     |
     |
=========
`,
`
 +---+
 |   |
 O   |
/|\\  |
/    |
     |
=========
`,
`
 +---+
 |   |
 O   |
/|\\  |
/ \\  |
     |
=========
`
            ];

            const topics = {
                animals: {
                    words: ["lion", "tiger", "bear", "snake", "eagle", "whale", "shark", "zebra", "koala", "penguin"],
                    hints: [
                        "King of the jungle",
                        "A large feline with stripes",
                        "Hibernates in winter",
                        "A legless reptile",
                        "A large bird of prey",
                        "Largest animal on Earth",
                        "A fish known for its teeth",
                        "A striped African equid",
                        "An Australian marsupial",
                        "A flightless bird that lives in Antarctica"
                    ]
                },
                foods: {
                    words: ["apple", "bread", "cheese", "pasta", "pizza", "sushi", "onion", "grape", "lemon", "honey"],
                    hints: [
                        "A crunchy fruit, often red or green",
                        "Made from flour and yeast",
                        "A dairy product often paired with wine",
                        "Italian noodles",
                        "A dish with cheese and tomato sauce",
                        "Japanese dish with rice and fish",
                        "A bulb vegetable that makes you cry",
                        "Small, round fruit in bunches",
                        "A sour yellow citrus fruit",
                        "A sweet, sticky liquid made by bees"
                    ]
                },
                countries: {
                    words: ["canada", "brazil", "egypt", "japan", "india", "france", "mexico", "russia", "china", "australia"],
                    hints: [
                        "Known for maple syrup and hockey",
                        "Largest country in South America",
                        "Home of the pyramids and the Sphinx",
                        "The Land of the Rising Sun",
                        "Known for the Taj Mahal and Bollywood",
                        "Famous for the Eiffel Tower and cuisine",
                        "Known for its tacos and sombreros",
                        "The largest country in the world by area",
                        "Has a Great Wall and a massive population",
                        "A continent and a country known for kangaroos"
                    ]
                }
            };

            // DOM Elements
            const setupSection = document.getElementById('setup-section');
            const gameSection = document.getElementById('game-section');
            const topicSelect = document.getElementById('topic-select');
            const hangmanStage = document.getElementById('hangman-stage');
            const timerInfo = document.getElementById('timer-info');
            const wordDisplay = document.getElementById('word-display');
            const guessedLettersDisplay = document.getElementById('guessed-letters');
            const messageDisplay = document.getElementById('message');
            const guessInput = document.getElementById('guess-input');
            const guessButton = document.getElementById('guess-button');
            const hintButton = document.getElementById('hint-button');
            const newGameButton = document.getElementById('new-game-button');

            // Game State
            let selectedWord = '';
            let selectedHint = '';
            let guessedLetters;
            let wrongGuesses = 0;
            let timer;
            let timeLeft = 60;
            const HINT_PENALTY = 5;
            const MAX_WRONG_GUESSES = 6;

            // Functions
            const startGame = () => {
                const topic = topicSelect.value;
                // Don't start if the value is the disabled default
                if (!topic) return;

                // Reset game state
                wrongGuesses = 0;
                guessedLetters = new Set();
                timeLeft = 60;
                messageDisplay.textContent = '';
                
                // Choose a word
                const wordList = topics[topic].words;
                const hintList = topics[topic].hints;
                const randomIndex = Math.floor(Math.random() * wordList.length);
                selectedWord = wordList[randomIndex].toUpperCase();
                selectedHint = hintList[randomIndex];

                // UI setup
                setupSection.classList.add('hidden');
                gameSection.classList.remove('hidden');
                guessInput.value = '';
                guessInput.focus();
                
                // Enable buttons and input
                guessButton.disabled = false;
                guessInput.disabled = false;
                hintButton.disabled = false;

                updateDisplay();
                startTimer();
            };
            
            const updateDisplay = () => {
                wordDisplay.textContent = selectedWord
                    .split('')
                    .map(letter => (guessedLetters.has(letter) ? letter : '_'))
                    .join(' ');
                
                hangmanStage.textContent = stages[wrongGuesses];
                
                guessedLettersDisplay.textContent = `Guessed: ${[...guessedLetters].sort().join(', ')}`;
                
                checkGameState();
            };
            
            const handleGuess = () => {
                const guess = guessInput.value.toUpperCase();
                guessInput.value = '';
                messageDisplay.textContent = '';

                if (!guess || !/^[A-Z]$/.test(guess)) {
                    messageDisplay.textContent = 'Please enter a single letter.';
                    return;
                }
                if (guessedLetters.has(guess)) {
                    messageDisplay.textContent = `You've already guessed "${guess}".`;
                    return;
                }

                guessedLetters.add(guess);

                if (!selectedWord.includes(guess)) {
                    wrongGuesses++;
                }

                updateDisplay();
            };

            const checkGameState = () => {
                if (!wordDisplay.textContent.includes('_')) {
                    endGame('Congratulations! You won! 🎉');
                }
                else if (wrongGuesses >= MAX_WRONG_GUESSES) {
                    endGame(`Game over! The word was "${selectedWord}". 😔`);
                }
            };

            const startTimer = () => {
                clearInterval(timer); 
                timerInfo.textContent = `Time Left: ${timeLeft}s`;
                timer = setInterval(() => {
                    timeLeft--;
                    timerInfo.textContent = `Time Left: ${timeLeft}s`;
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        endGame(`Time's up! The word was "${selectedWord}". ⏱️`);
                    }
                }, 1000);
            };

            const showHint = () => {
                if (timeLeft > HINT_PENALTY) {
                    timeLeft -= HINT_PENALTY;
                    timerInfo.textContent = `Time Left: ${timeLeft}s`;
                    messageDisplay.textContent = `Hint: ${selectedHint}`;
                    hintButton.disabled = true;
                } else {
                    messageDisplay.textContent = 'Not enough time for a hint!';
                }
            };

            const endGame = (message) => {
                clearInterval(timer);
                messageDisplay.textContent = message;
                wordDisplay.textContent = selectedWord.split('').join(' ');
                guessButton.disabled = true;
                guessInput.disabled = true;
                hintButton.disabled = true;
            };
            
            const resetToMenu = () => {
                clearInterval(timer);
                gameSection.classList.add('hidden');
                setupSection.classList.remove('hidden');
                // Reset the topic selector to its default state
                topicSelect.value = "";
            };

            // Event Listeners
            topicSelect.addEventListener('change', startGame);
            guessButton.addEventListener('click', handleGuess);
            guessInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    handleGuess();
                }
            });
            hintButton.addEventListener('click', showHint);
            newGameButton.addEventListener('click', resetToMenu);
        });
    </script>
</body>
</html>
